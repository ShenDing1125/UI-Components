{"version":3,"file":"Table.stories-d31529ad.js","sources":["../../src/components/Table/table.tsx","../../src/components/Table/tabIeItem.tsx","../../src/components/Table/index.tsx"],"sourcesContent":["import classNames from 'classnames';\nimport React, { FC, FunctionComponentElement, ReactNode, createContext, useState } from 'react';\nimport reserveChildrenType from '../../utils/reserveChildrenType';\nimport { TableItemProps } from './tabIeItem';\n\ntype TableMode = 'line' | 'card';\nexport interface TableProps {\n    defaultIndex?: number;\n    className?: string;\n    onSelect?: (selectedIndex: number) => void;\n    mode?: TableMode;\n    disabled?: boolean;\n    children?: ReactNode;\n}\ninterface ITableContext {\n    isUseAlone: boolean;\n    disabled?: boolean;\n}\nexport const TableContext = createContext<ITableContext>({ isUseAlone: true });\n\nexport const Table: FC<TableProps> = (props) => {\n    const { defaultIndex, className, onSelect, mode, disabled, children } = props;\n    const _children: ReactNode = reserveChildrenType(children, 'object', []);\n    const [activeIndex, setActiveIndex] = useState(defaultIndex);\n\n    const handleClick = (index: number, disabled: boolean | undefined) => {\n        if (!disabled) {\n            setActiveIndex(index);\n            onSelect && onSelect(index);\n        }\n    };\n\n    const tabNavClasses = classNames('sd-tab-nav', {\n        'tab-nav-line': mode === 'line',\n        'tab-nav-card': mode === 'card'\n    });\n\n    const passedContext: ITableContext = {\n        disabled,\n        isUseAlone: false\n    };\n\n    const renderTableNav = () => {\n        return React.Children.map(_children, (child, index) => {\n            const childElement = child as FunctionComponentElement<TableItemProps>;\n            const { label, disabled } = childElement.props;\n            const { displayName } = childElement.type;\n            const tabItemClasses = classNames('tab-nav-item', {\n                'is-active': activeIndex === index,\n                disabled: disabled\n            });\n\n            if (displayName === 'TableItem') {\n                return (\n                    <>\n                        <li\n                            className={tabItemClasses}\n                            key={`nav-item-${index}`}\n                            onClick={() => {\n                                handleClick(index, disabled);\n                            }}>\n                            {label}\n                        </li>\n                    </>\n                );\n            } else {\n                console.error('Warring: Table has a child which is not a TableItem component');\n            }\n        });\n    };\n\n    const renderTableContent = () => {\n        return React.Children.map(_children, (child, index) => index === activeIndex && child);\n    };\n\n    return (\n        <>\n            <div className={className}>\n                <ul className={tabNavClasses}>{renderTableNav()}</ul>\n                <div className=\"sd-tab-content\">\n                    <TableContext.Provider value={passedContext}>{renderTableContent()}</TableContext.Provider>\n                </div>\n            </div>\n        </>\n    );\n};\n\nTable.defaultProps = {\n    defaultIndex: 0,\n    mode: 'line'\n};\nexport default Table;\n","import { FC, ReactNode, useContext } from 'react';\nimport { TableContext } from './table';\n\nexport interface TableItemProps {\n    label: string | React.ReactElement;\n    disabled?: boolean;\n    children?: ReactNode;\n}\n\nconst TableItem: FC<TableItemProps> = ({ children, disabled }) => {\n    const context = useContext(TableContext);\n    context.disabled ? (disabled = true) : disabled;\n\n    // console.log(context);\n    if (!context.isUseAlone) {\n        return (\n            <>\n                <div className=\"sd-tab-item\">{children}</div>\n            </>\n        );\n    } else {\n        console.error('Warring: MenuItem can not be used alone');\n    }\n};\n\nTableItem.displayName = 'TableItem';\n\nexport default TableItem;\n","import { FC } from 'react';\nimport Table, { TableProps } from './table';\nimport TableItem, { TableItemProps } from './tabIeItem';\n\nexport type IComponent = FC<TableProps> & {\n    Item: FC<TableItemProps>;\n};\n\nexport const TransTable = Table as IComponent;\nTransTable.Item = TableItem;\n"],"names":["TableContext","createContext","Table","props","defaultIndex","className","onSelect","mode","disabled","children","_children","reserveChildrenType","activeIndex","setActiveIndex","useState","handleClick","index","disabled2","tabNavClasses","classNames","passedContext","renderTableNav","React","child","childElement","label","displayName","tabItemClasses","jsx","Fragment","renderTableContent","jsxs","TableItem","context","useContext","TransTable"],"mappings":"2LAkBO,MAAAA,EAAAC,EAAAA,cAAA,CAAA,WAAA,EAAA,CAAA,EAEAC,EAAAC,GAAA,CACH,KAAA,CAAA,aAAAC,EAAA,UAAAC,EAAA,SAAAC,EAAA,KAAAC,EAAA,SAAAC,EAAA,SAAAC,CAAA,EAAAN,EACAO,EAAAC,EAAAF,EAAA,SAAA,CAAA,CAAA,EACA,CAAAG,EAAAC,CAAA,EAAAC,EAAA,SAAAV,CAAA,EAEAW,EAAA,CAAAC,EAAAC,IAAA,CACIA,IACIJ,EAAAG,CAAA,EACAV,GAAAA,EAAAU,CAAA,EACJ,EAGJE,EAAAC,EAAA,aAAA,CAA+C,eAAAZ,IAAA,OAClB,eAAAA,IAAA,MACA,CAAA,EAG7Ba,EAAA,CAAqC,SAAAZ,EACjC,WAAA,EACY,EAGhBa,EAAA,IACIC,EAAA,SAAA,IAAAZ,EAAA,CAAAa,EAAAP,IAAA,CACI,MAAAQ,EAAAD,EACA,CAAA,MAAAE,EAAA,SAAAR,CAAA,EAAAO,EAAA,MACA,CAAA,YAAAE,CAAA,EAAAF,EAAA,KACAG,EAAAR,EAAA,eAAA,CAAkD,YAAAP,IAAAI,EACjB,SAAAC,CACnB,CAAA,EAGd,GAAAS,IAAA,YACI,OAAAE,MAAAC,EAAAA,SAAA,CAAA,SAAAD,EAAA,IAEQ,KAAC,CAAA,UAAAD,EACc,QAAA,IAAA,CAGPZ,EAAAC,EAAAC,CAAA,CAA2B,EAC/B,SAAAQ,CACC,EAAA,YAAAT,CAAA,EAJqB,CAAA,CAAA,EASlC,QAAA,MAAA,+DAAA,CACJ,CAAA,EAIRc,EAAA,IACIR,EAAA,SAAA,IAAAZ,EAAA,CAAAa,EAAAP,IAAAA,IAAAJ,GAAAW,CAAA,EAGJ,OAAAK,EAAA,IAAAC,EAAA,SAAA,CAAA,SAAAE,EAAA,KAAA,MAAA,CAAA,UAAA1B,EAAA,SAAA,CAGYuB,EAAA,IAAA,KAAA,CAAA,UAAAV,EAAA,SAAAG,EAAA,EAAA,EAAgDO,EAAA,IAAA,MAAA,CAAA,UAAA,iBAAA,SAAAA,EAAAA,IAAA5B,EAAA,SAAA,CAAA,MAAAoB,EAAA,SAAAU,EAAA,CAAA,CAAA,EAAA,CAGhD,CAAA,CAAA,CAAA,CAAA,CAIhB,EAEA5B,EAAA,aAAA,CAAqB,aAAA,EACH,KAAA,MAElB,oxCCjFA,MAAA8B,EAAA,CAAA,CAAA,SAAAvB,EAAA,SAAAD,KAAA,CACI,MAAAyB,EAAAC,aAAAlC,CAAA,EAIA,GAHAiC,EAAA,WAAAzB,EAAA,IAGAyB,EAAA,WAOI,QAAA,MAAA,yCAAA,MANA,QAAAL,MAAAC,EAAAA,SAAA,CAAA,SAAAD,EAAAA,IAAA,MAAA,CAAA,UAAA,cAAA,SAAAnB,CAAA,CAAA,CAAA,CAAA,CAQR,EAEAuB,EAAA,YAAA,+VCjBO,MAAAG,EAAAjC,EACPiC,EAAA,KAAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}