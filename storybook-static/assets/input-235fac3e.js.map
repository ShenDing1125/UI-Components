{"version":3,"file":"input-235fac3e.js","sources":["../../src/components/Input/input.tsx"],"sourcesContent":["import { IconProp } from '@fortawesome/fontawesome-svg-core';\nimport classNames from 'classnames';\nimport { InputHTMLAttributes, ReactElement, forwardRef } from 'react';\nimport { TransIcon } from '../Icon';\n\ntype InputSize = 'lg' | 'md' | 'sm';\ntype DefInputSize = { width: string; height: string };\n\nexport interface InputProps extends Omit<InputHTMLAttributes<HTMLElement>, 'size'> {\n    disabled?: boolean;\n    inputSize?: InputSize;\n    icon?: IconProp;\n    prepend?: string | ReactElement;\n    append?: string | ReactElement;\n    defSize?: DefInputSize;\n    // onChange?: (e: ChangeEvent<HTMLInputElement>) => void;\n}\n\n// forwardRef<RefType, PropsType>((props, ref) => {})\nexport const Input = forwardRef<HTMLInputElement, InputProps>((props, ref) => {\n    const { disabled, inputSize, icon, prepend, append, style, defSize, ...restProps } = props;\n    const classes = classNames('sd-input-wrapper', {\n        [`input-size-${inputSize}`]: inputSize,\n        'is-disabled': disabled,\n        'input-group': prepend || append,\n        'input-group-append': append,\n        'input-group-prepend': prepend\n    });\n    const fixControlledValue = (value: any) => {\n        if (typeof value === 'undefined' || value === null) {\n            return '';\n        }\n        return value;\n    };\n    // 將\"非受控組件\"轉為\"受控組件\"\"\n    if ('value' in props) {\n        delete restProps.defaultValue;\n        restProps.value = fixControlledValue(restProps.value);\n    }\n    const defStyle = {\n        width: `${defSize?.width}`,\n        height: `${defSize?.height}`,\n        ...style\n    };\n\n    const renderBaseInput = () => {\n        return (\n            <>\n                {prepend && <div className=\"sd-input-group-prepend\">{prepend}</div>}\n                <input ref={ref} className=\"sd-input-inner\" disabled={disabled} {...restProps} />\n                {append && <div className=\"sd-input-group-append\">{append}</div>}\n            </>\n        );\n    };\n\n    const renderIcon = () => {\n        return (\n            <>\n                {icon && (\n                    <div className=\"icon-wrapper\">\n                        <span className=\"blur-layout\" />\n                        <TransIcon icon={icon} title={`${icon}`} />\n                    </div>\n                )}\n            </>\n        );\n    };\n\n    const renderOverallInput = () => {\n        return (\n            <>\n                <div className={classes} style={defStyle}>\n                    {renderIcon()}\n                    {renderBaseInput()}\n                </div>\n            </>\n        );\n    };\n\n    return <>{renderOverallInput()}</>;\n});\n\nexport default Input;\n"],"names":["Input","forwardRef","props","ref","disabled","inputSize","icon","prepend","append","style","defSize","restProps","classes","classNames","fixControlledValue","value","defStyle","renderBaseInput","jsxs","Fragment","jsx","renderIcon","TransIcon","renderOverallInput"],"mappings":"+HAmBO,MAAAA,EAAAC,EAAA,WAAA,CAAAC,EAAAC,IAAA,CACH,KAAA,CAAA,SAAAC,EAAA,UAAAC,EAAA,KAAAC,EAAA,QAAAC,EAAA,OAAAC,EAAA,MAAAC,EAAA,QAAAC,EAAA,GAAAC,CAAA,EAAAT,EACAU,EAAAC,EAAA,mBAAA,CAA+C,CAAA,cAAAR,CAAA,EAAA,EAAAA,EACd,cAAAD,EACd,cAAAG,GAAAC,EACW,qBAAAA,EACJ,sBAAAD,CACC,CAAA,EAE3BO,EAAAC,GACI,OAAAA,EAAA,KAAAA,IAAA,KACI,GAEJA,EAGJ,UAAAb,IACI,OAAAS,EAAA,aACAA,EAAA,MAAAG,EAAAH,EAAA,KAAA,GAEJ,MAAAK,EAAA,CAAiB,MAAA,GAAAN,GAAA,YAAAA,EAAA,KAAA,GACW,OAAA,GAAAA,GAAA,YAAAA,EAAA,MAAA,GACE,GAAAD,CACvB,EAGPQ,EAAA,IACIC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAESZ,GAAAa,EAAA,IAAA,MAAA,CAAA,UAAA,yBAAA,SAAAb,EAAA,EAA4Da,MAAA,QAAA,CAAA,IAAAjB,EAAA,UAAA,iBAAA,SAAAC,EAAA,GAAAO,EAAA,EACkBH,GAAAY,EAAA,IAAA,MAAA,CAAA,UAAA,wBAAA,SAAAZ,EAAA,CACrB,CAAA,CAAA,EAKtEa,EAAA,IACID,MAAAD,EAAAA,SAAA,CAAA,SAAAb,GAAAY,OAAA,MAAA,CAAA,UAAA,eAAA,SAAA,CAIgBE,EAAAA,IAAA,OAAA,CAAA,UAAA,aAAA,CAAA,EAA8BA,EAAA,IAAAE,EAAA,CAAA,KAAAhB,EAAA,MAAA,GAAAA,CAAA,GAAA,CACW,CAAA,CAAA,CAAA,CAAA,EAO7DiB,EAAA,IACIH,MAAAD,EAAAA,SAAA,CAAA,SAAAD,EAAAA,KAAA,MAAA,CAAA,UAAAN,EAAA,MAAAI,EAAA,SAAA,CAGaK,EAAA,EAAWJ,EAAA,CACK,CAAA,CAAA,CAAA,CAAA,EAMjC,OAAAG,EAAAA,IAAAD,EAAAA,SAAA,CAAA,SAAAI,EAAA,CAAA,CAAA,CACJ,CAAA"}