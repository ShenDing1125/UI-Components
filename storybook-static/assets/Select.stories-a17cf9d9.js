import{j as e,c as w}from"./index-c36107a0.js";import{r,R as k}from"./index-76fb7be0.js";import{u as J}from"./useClickOutside-ced69aeb.js";import{T as j}from"./index-34249dab.js";import"./index-efb0b43a.js";import{T as K}from"./index-5f85594f.js";import{I as L}from"./input-235fac3e.js";import"./_commonjsHelpers-de833af9.js";import"./index-edafa35b.js";import"./index-8d47fad6.js";import"./inheritsLoose-9eefaa95.js";import"./index-d3ea75b5.js";const R=r.createContext({selectedValues:[]}),Q=u=>{const{selectSize:o,defSize:t,style:x,defOptionValue:p,placeholder:m,disabled:v,multiple:a,name:b,onChange:O,onVisibleChange:s,children:T,autoFocus:_}=u,d=r.useRef(null),f=r.useRef(null),[i,y]=r.useState(Array.isArray(p)?p:[]),[g,C]=r.useState(!1),[N,q]=r.useState(typeof p=="string"?p:""),z=(n,c)=>{let h=[];a?q(""):(C(!1),q(n),s&&s(!1)),a&&(h=c?i.filter(H=>H!==n):[...i,n],y(h)),O&&O(n,h)};r.useEffect(()=>{d.current&&(!_&&d.current.focus(),a&&i.length>0?d.current.placeholder="":m&&(d.current.placeholder=m))},[a,i,m]),J(f,()=>{C(!1),!g&&s&&s(!1)});const D={onSelect:z,selectedValues:i,multiple:a},$=n=>{n.preventDefault(),v||(C(!g),s&&s(!g))},B=n=>{n.preventDefault(),q("")},A=n=>{n.preventDefault(),y([])},P=()=>k.Children.map(T,(n,c)=>{const h=n;if(h.type.displayName="Option")return k.cloneElement(h,{index:`select-${c}`});console.error("Warning: Select has a child which is not a Option component")}),M=()=>i.map((n,c)=>e.jsxs("span",{className:"item-tag",children:[n,e.jsx(j,{icon:"times",onClick:()=>{z(n,!0)}})]},`tag-${c}`)),W=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"sd-select-input",onClick:$,children:e.jsx(L,{ref:d,placeholder:m,value:N,readOnly:!0,icon:"angle-down",disabled:v,name:b})})}),G=()=>{const n=w("sd-select",{[`select-size-${o}`]:o,"is-option-open":g,"is-disabled":v,"is-multiple":a}),c={with:`${t==null?void 0:t.width}`,height:`${t==null?void 0:t.height}`,...x};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:n,ref:f,style:c,children:[W(),e.jsx(R.Provider,{value:D,children:e.jsx(K,{in:g,animation:"scale-in-top",timeout:300,children:e.jsx("ul",{className:"select-dropdown",children:P()})})}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"selected-tags",children:M()}),i.length>1&&e.jsx(j,{className:"selected-clean-icon",icon:"trash-can",onClick:A})]}),N&&e.jsx(j,{className:"selected-clean-icon",icon:"xmark",onClick:B})]})})};return e.jsx(e.Fragment,{children:G()})};try{select.displayName="select",select.__docgenInfo={description:"",displayName:"select",props:{selectSize:{defaultValue:null,description:"",name:"selectSize",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"lg"'},{value:'"md"'}]}},defSize:{defaultValue:null,description:"",name:"defSize",required:!1,type:{name:"DefInputSize"}},defOptionValue:{defaultValue:null,description:"",name:"defOptionValue",required:!1,type:{name:"string | string[]"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((selectedValue: string, selectedValues: string[]) => void)"}},onVisibleChange:{defaultValue:null,description:"",name:"onVisibleChange",required:!1,type:{name:"((visible: boolean) => void)"}}}}}catch{}const V=u=>{const{value:o,label:t,disabled:x,children:p,index:m,...v}=u,{onSelect:a,selectedValues:b,multiple:O}=r.useContext(R),s=b.includes(o),T=w("sd-select-item",{"is-disabled":x,"is-selected":s}),_=(f,i,y)=>{f.preventDefault(),a&&!x&&a(i,y)},d=()=>e.jsx(e.Fragment,{children:e.jsxs("li",{className:T,onClick:f=>{_(f,o,s)},...v,children:[x?e.jsx("del",{children:t||o}):p||t||o,O&&s&&e.jsx(j,{className:"is-selected-icon",icon:"check"})]},m)});return e.jsx(e.Fragment,{children:d()})};V.displayName="Option";try{V.displayName="Option",V.__docgenInfo={description:"",displayName:"Option",props:{index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}}}}}catch{}const l=Q;l.Option=V;try{l.displayName="TransSelect",l.__docgenInfo={description:"",displayName:"TransSelect",props:{selectSize:{defaultValue:null,description:"",name:"selectSize",required:!1,type:{name:"enum",value:[{value:'"sm"'},{value:'"lg"'},{value:'"md"'}]}},defSize:{defaultValue:null,description:"",name:"defSize",required:!1,type:{name:"DefInputSize"}},defOptionValue:{defaultValue:null,description:"",name:"defOptionValue",required:!1,type:{name:"string | string[]"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"",name:"multiple",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((selectedValue: string, selectedValues: string[]) => void)"}},onVisibleChange:{defaultValue:null,description:"",name:"onVisibleChange",required:!1,type:{name:"((visible: boolean) => void)"}}}}}catch{}const oe={component:l,parameters:{layout:"centered"}},S={render:()=>e.jsx(e.Fragment,{children:e.jsxs("div",{style:{width:"700px",marginBottom:"200px",padding:"20px"},children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h4",{children:"單選"}),e.jsxs(l,{selectSize:"lg",children:[e.jsx(l.Option,{value:"1",disabled:!0}),e.jsx(l.Option,{value:"2"}),e.jsx(l.Option,{value:"3",disabled:!0}),e.jsx(l.Option,{value:"4"}),e.jsx(l.Option,{value:"5"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{children:"多選"}),e.jsxs(l,{multiple:!0,selectSize:"lg",children:[e.jsx(l.Option,{value:"1",disabled:!0}),e.jsx(l.Option,{value:"2"}),e.jsx(l.Option,{value:"3",disabled:!0}),e.jsx(l.Option,{value:"4"}),e.jsx(l.Option,{value:"5"}),e.jsx(l.Option,{value:"6"}),e.jsx(l.Option,{value:"7"}),e.jsx(l.Option,{value:"8"}),e.jsx(l.Option,{value:"9"}),e.jsx(l.Option,{value:"10"})]})]})]})})};var I,E,F;S.parameters={...S.parameters,docs:{...(I=S.parameters)==null?void 0:I.docs,source:{originalSource:`{
  render: () => <>\r
            <div style={{
      width: '700px',
      marginBottom: '200px',
      padding: '20px'
    }}>\r
                <div style={{
        marginBottom: '20px'
      }}>\r
                    <h4>單選</h4>\r
                    <TransSelect selectSize="lg">\r
                        <TransSelect.Option value="1" disabled />\r
                        <TransSelect.Option value="2" />\r
                        <TransSelect.Option value="3" disabled />\r
                        <TransSelect.Option value="4" />\r
                        <TransSelect.Option value="5" />\r
                    </TransSelect>\r
                </div>\r
                <div>\r
                    <h4>多選</h4>\r
                    <TransSelect multiple selectSize="lg">\r
                        <TransSelect.Option value="1" disabled />\r
                        <TransSelect.Option value="2" />\r
                        <TransSelect.Option value="3" disabled />\r
                        <TransSelect.Option value="4" />\r
                        <TransSelect.Option value="5" />\r
                        <TransSelect.Option value="6" />\r
                        <TransSelect.Option value="7" />\r
                        <TransSelect.Option value="8" />\r
                        <TransSelect.Option value="9" />\r
                        <TransSelect.Option value="10" />\r
                    </TransSelect>\r
                </div>\r
            </div>\r
        </>
}`,...(F=(E=S.parameters)==null?void 0:E.docs)==null?void 0:F.source}}};const de=["Example"];export{S as Example,de as __namedExportsOrder,oe as default};
//# sourceMappingURL=Select.stories-a17cf9d9.js.map
